name: 'install config tool'
inputs:
  # to-do: add version number of config migration tool
runs:
  using: "composite"
  steps:
    - run: | 
        if (Get-Module -ListAvailable -Name Microsoft.Xrm.Data.PowerShell) {
          Write-Host "Microsoft.Xrm.Data.PowerShell module exists skipping install."
        }
        else {
          Write-Host "Microsoft.Xrm.Data.PowerShell module does not exist installing now."
          Install-Module Microsoft.Xrm.Data.PowerShell -Force
        }
      shell: PowerShell